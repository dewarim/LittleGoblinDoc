<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (2.0.5) on Sun Jan 27 18:49:44 CET 2013 -->
<title>ProductionService (Groovy Documentation)</title>
<meta name="date" content="2013-01-27">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProductionService (Groovy Documentation)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy Documentation</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?de/dewarim/goblin/ProductionService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProductionService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#property_summary">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#prop_detail">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
de.dewarim.goblin</FONT>
<BR>

<span CLASS="ClassTitleFont">[Groovy] Class ProductionService</span></H2>
<pre>java.lang.Object
  <img src='../../../inherit.gif'>de.dewarim.goblin.ProductionService
</pre><hr>
<PRE>class ProductionService

</PRE>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;java.lang.Object</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#transactional">transactional</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#ProductionService()">ProductionService</a></B>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#checkResources(de.dewarim.goblin.pc.crafting.ProductionJob)">checkResources</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</CODE>
            <BR>
            <P>Check if the player has enough resources to pay for the production of an item.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Integer</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#computeMaxProduction(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter)">computeMaxProduction</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc)</CODE>
            <BR>
            <P>Compute how many items of this product the PC can produce.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#createNewProductionJob(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter, def)">createNewProductionJob</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc, java.lang.Object params)</CODE>
            <BR>
            <P>Create a new ProductionJob for the selected product. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#createProduct(de.dewarim.goblin.pc.crafting.ProductionJob)">createProduct</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</CODE>
            <BR>
            <P>Create the items which make up this product and delete
 the ProductionJob afterwards.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#enoughResourcesSelected(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter, def)">enoughResourcesSelected</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc, java.lang.Object params)</CODE>
            <BR>
            <P>Check if a player has selected enough resources to create a given product. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.util.List</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#extractItemListFromParams(def)">extractItemListFromParams</a></b>(java.lang.Object params)</CODE>
            <BR>
            <P>An item has an html input field with name item_$id. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.util.Map</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#fetchItemCountMapFromParams(def)">fetchItemCountMapFromParams</a></b>(java.lang.Object params)</CODE>
            <BR>
            <P>Turn the item ids in the HTTP request into a map of [itemType::amount]</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.util.Map</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#fetchItemMap(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter)">fetchItemMap</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc)</CODE>
            <BR>
            <P>Go through the player character's items and collect a map(component,List::item) of those items
 which may be used to create the product.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Integer</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#makeProducts()">makeProducts</a></b>()</CODE>
            <BR>
            <P>Go through the list of ProductionJobs and try to create each product if the
 PC has the required amount of products ready. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#spendResources(de.dewarim.goblin.pc.crafting.ProductionJob)">spendResources</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</CODE>
            <BR>
            <P>Spend the required resources on a production job. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#terminateJob(de.dewarim.goblin.pc.crafting.ProductionJob)">terminateJob</a></b>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</CODE>
            <BR>
            <P>Terminate a ProductionJob, either because the product is finished or because the
 player character has not been able to create this item.</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class java.lang.Object</b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="transactional"><!-- --></A><H3>transactional</H3>
        <PRE>static&nbsp;java.lang.Object <B>transactional</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="ProductionService()"><!-- --></A><H3>
        ProductionService</H3>
        <PRE><B>ProductionService</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="checkResources(de.dewarim.goblin.pc.crafting.ProductionJob)"><!-- --></A><H3>
        checkResources</H3>
        <PRE>java.lang.Boolean <B>checkResources</B>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</PRE>
        <DL>
        <DD> Check if the player has enough resources to pay for the production of an item.
 This method examines each resource and makes sure that
 <ul>
 <li>the player is still the owner of the previously selected item</li>
 <li>the player has a sufficient amount of this item in stock.</li>
 </ul> <DL><DT><B>Parameters:</B></DT><DD>job</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="computeMaxProduction(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter)"><!-- --></A><H3>
        computeMaxProduction</H3>
        <PRE>java.lang.Integer <B>computeMaxProduction</B>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc)</PRE>
        <DL>
        <DD> Compute how many items of this product the PC can produce.
     <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  the product to make</DD><DD><code>pc</code> -  the player character who wants to craft</DD></DL><DL><DT><B>Returns:</B></DT><DD>the maximum amount of items the player can create given his
 current resources.</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="createNewProductionJob(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter, def)"><!-- --></A><H3>
        createNewProductionJob</H3>
        <PRE>void <B>createNewProductionJob</B>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc, java.lang.Object params)</PRE>
        <DL>
        <DD> Create a new ProductionJob for the selected product. Verify that
 the correct amount of items has been selected.
     <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  the product that the player wants to create</DD><DD><code>pc</code> -  the player character</DD><DD><code>params</code> -  http request params</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="createProduct(de.dewarim.goblin.pc.crafting.ProductionJob)"><!-- --></A><H3>
        createProduct</H3>
        <PRE>void <B>createProduct</B>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</PRE>
        <DL>
        <DD> Create the items which make up this product and delete
 the ProductionJob afterwards.
 TODO: send a message to the player telling him that the job is done.
     <DL><DT><B>Parameters:</B></DT><DD><code>job</code> -  the ProductionJob which describes the product and who will get the resulting items.</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="enoughResourcesSelected(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter, def)"><!-- --></A><H3>
        enoughResourcesSelected</H3>
        <PRE>java.lang.Boolean <B>enoughResourcesSelected</B>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc, java.lang.Object params)</PRE>
        <DL>
        <DD> Check if a player has selected enough resources to create a given product. This does not check
 if the resources are actually available at this point. The player sort of makes a promise:
 "I will have the required resources later on, and I want to use the following piles of items
 I have here." If the promise is believable (that is, if the ItemTypes are correct and the total
 amount promised is at least equal to the amount of required resources), a ProductionJob may be
 created.
     <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  the product the player wants to create</DD><DD><code>pc</code> -  the player character</DD><DD><code>params</code> -  the http request params</DD></DL><DL><DT><B>Returns:</B></DT><DD>true if enough resources have been selected, false otherwise</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="extractItemListFromParams(def)"><!-- --></A><H3>
        extractItemListFromParams</H3>
        <PRE>java.util.List <B>extractItemListFromParams</B>(java.lang.Object params)</PRE>
        <DL>
        <DD> An item has an html input field with name item_$id. This method extracts
 the id, loads the item and puts it into a list.
     <DL><DT><B>Parameters:</B></DT><DD><code>params</code> -  the http request params</DD></DL><DL><DT><B>Returns:</B></DT><DD>a list of items</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="fetchItemCountMapFromParams(def)"><!-- --></A><H3>
        fetchItemCountMapFromParams</H3>
        <PRE>java.util.Map <B>fetchItemCountMapFromParams</B>(java.lang.Object params)</PRE>
        <DL>
        <DD> Turn the item ids in the HTTP request into a map of [itemType::amount]
     <DL><DT><B>Parameters:</B></DT><DD><code>params</code> -  the http request parameters</DD></DL><DL><DT><B>Returns:</B></DT><DD>a map of itemType::amount</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="fetchItemMap(de.dewarim.goblin.pc.crafting.Product, de.dewarim.goblin.pc.PlayerCharacter)"><!-- --></A><H3>
        fetchItemMap</H3>
        <PRE>java.util.Map <B>fetchItemMap</B>(<a href='../../../de/dewarim/goblin/pc/crafting/Product.html'>Product</a> product, <a href='../../../de/dewarim/goblin/pc/PlayerCharacter.html'>PlayerCharacter</a> pc)</PRE>
        <DL>
        <DD> Go through the player character's items and collect a map(component,List::item) of those items
 which may be used to create the product.
 This method is used to create the selectComponents view of the ProductionController
     <DL><DT><B>Parameters:</B></DT><DD><code>product</code> -  the product the player wishes to create</DD><DD><code>pc</code> -  the active player character</DD></DL><DL><DT><B>Returns:</B></DT><DD>a map of items that this PC owns which may be used to create the product</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="makeProducts()"><!-- --></A><H3>
        makeProducts</H3>
        <PRE>java.lang.Integer <B>makeProducts</B>()</PRE>
        <DL>
        <DD> Go through the list of ProductionJobs and try to create each product if the
 PC has the required amount of products ready. Otherwise, put his production on hold
 for some time.
 Note: I want a player to be able to create a list of production jobs, and each
 of them should be able to create items that will be used "further down the line".
 But what if the list of ProductionJobs is clogged with jobs that cannot be completed,
 because the player has left the game or has just put hundreds of fake jobs on the line?
 Thus a ProductionJob has a limited TTL (Time-To-Live). It will be bumped back in the
 line until it can be completed - or until its TTL is reached. This way, a player may
 create a ProductionJob to be done with resources that are not available at this very
 moment but may be there soon (for example, components which will be produced over night).
 This of course only goes so far - the player has to decide on an actual item to use,
 for example: "I want to use 20 of those gold ingots to create a golden grail. No matter
 that I only got 10 at the moment, but later on I will have all 20 after my 'create gold
 ingot from ore' production job is through." Note that the player should not be able to
 submit a job where he has not selected a resource. The program cannot guess if he wanted
 to enchant one of 99 arrows or his big bad sword to create an expensive rune weapon.
 Todo: this text should go into the wiki. Once we have one.
 Todo: multiple production lines. Crossover between PLs
     <DL><DT><B>Returns:</B></DT><DD>the number of processed production jobs.</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="spendResources(de.dewarim.goblin.pc.crafting.ProductionJob)"><!-- --></A><H3>
        spendResources</H3>
        <PRE>void <B>spendResources</B>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</PRE>
        <DL>
        <DD> Spend the required resources on a production job. If an item is depleted (that is,
 there are not more of it around), it will be deleted.
     <DL><DT><B>Parameters:</B></DT><DD>job</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="terminateJob(de.dewarim.goblin.pc.crafting.ProductionJob)"><!-- --></A><H3>
        terminateJob</H3>
        <PRE>void <B>terminateJob</B>(<a href='../../../de/dewarim/goblin/pc/crafting/ProductionJob.html'>ProductionJob</a> job)</PRE>
        <DL>
        <DD> Terminate a ProductionJob, either because the product is finished or because the
 player character has not been able to create this item.
     <DL><DT><B>Parameters:</B></DT><DD><code>job</code> -  the ProductionJob that will be deleted.</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p>Groovy Documentation</p>
<hr>

</body>
</html>
